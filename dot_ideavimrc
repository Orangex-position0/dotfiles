" ================================================================================================
" ğŸ§ğŸ§ğŸ§ Basic settings ğŸ§ğŸ§ğŸ§
" ================================================================================================
" è®¾ç½®å…¨å±€å‰ªè´´æ¿
set clipboard=unnamedplus

" æ˜¾ç¤ºå½“å‰vimæ¨¡å¼(normal/insert/visual)
set showmode

" å°† scroll off çš„è¡Œæ•°è®¾ç½®ä¸º0ï¼Œå³å…³é—­è‡ªåŠ¨æ»šåŠ¨åç§»ï¼ˆé¿å…è·³è½¬æ—¶é¡µé¢æŠ–åŠ¨ï¼‰
set scrolloff=0

" å¯åŠ¨å¢é‡æœç´¢ï¼ˆæœç´¢æ—¶å®æ—¶åŒ¹é…é«˜äº®ï¼‰
set incsearch

" å¯åŠ¨é«˜äº®æœç´¢ï¼ˆå°†æœç´¢åŒ¹é…çš„æ–‡æœ¬é«˜äº®æ˜¾ç¤ºï¼‰
set hlsearch

" æ˜¾ç¤ºè¡Œå·å’Œç›¸å¯¹è¡Œå·
set number relativenumber

"åœ¨æœç´¢æ—¶å¿½ç•¥å¤§å°å†™
set ignorecase

"è®¾ç½®è¿”å›normalæ¨¡å¼æ—¶å›åˆ°è‹±æ–‡è¾“å…¥æ³•
set keep-english-in-normal

"å¯ç”¨é¼ æ ‡
set mouse=a

"å¼ºåˆ¶Normalæ¨¡å¼ä¸‹ä½¿ç”¨è‹±æ–‡è¾“å…¥æ³•ï¼Œé¿å…é¿å…è¾“å…¥æ³•é¢‘ç¹åˆ‡æ¢
set keep-english-in-normal

" å¼€å¯ideaæ™ºèƒ½è¡Œè¿æ¥ï¼ˆç±»ä¼¼ J å‘½ä»¤ä½†æ›´æ™ºèƒ½ï¼‰
set ideajoin

" å…³é—­æ’ä»¶çš„èœ‚é¸£å£°
set visualbell

" çŠ¶æ€æ å›¾æ ‡é¢œè‰²
set ideastatusicon=gray

" é‡æ„æ—¶ä¿ç•™å†å²è®°å½•
set idearefactormode=keep

" å¤åˆ¶æ—¶é«˜äº®å†…å®¹
set highlightedyank


" ================================================================================================
" ğŸ”§ğŸ”§ğŸ”§ Plugins ğŸ”§ğŸ”§ğŸ”§
" ================================================================================================
" --- Enable IdeaVim plugins https://jb.gg/ideavim-plugins

" å¿«é€Ÿæ³¨é‡Š(use 'gc/gcc' for commenting )
" Usage: å•è¡Œæ³¨é‡Šï¼ˆgccï¼‰
set commentary

" ç±»ä¼¼ vim-surround
set surround

" å¤šå…‰æ ‡æ”¯æŒ
set multiple-cursors

" æ–‡ä»¶æ ‘å¯¼èˆªï¼ˆæ˜ å°„åˆ° Idea çš„ project è§†å›¾ï¼‰
set NERDTree

" æ–¹ä¾¿åœ°æ“ä½œå‡½æ•°å‚æ•°ï¼Œå°†å‡½æ•°å‚æ•°ä½œä¸ºä¸€ç§æ–‡æœ¬å¯¹è±¡
set argtextobj
" é…ç½®æ’ä»¶è¯†åˆ«ä¸ºæ–‡æœ¬å¯¹è±¡çš„é…å¯¹ç¬¦å·
let g:argtextobj_pairs="[:],(:),<:>"

" æ˜¾ç¤ºå¯ç”¨å¿«æ·é”®
set which-key " éœ€è¦å…ˆåœ¨æ’ä»¶å•†åº—ä¸­ä¸‹è½½
set notimeout " è¡¨ç¤ºè¶…è¿‡ä¸€å®šæ—¶é—´åï¼Œè‡ªåŠ¨å–æ¶ˆå¿«æ·é”®ï¼Œè¿™é‡Œè®¾ç½®ä¸ºä¸€ç›´ç­‰å¾…è¾“å…¥ï¼Œä¸€èˆ¬é…åˆWhichKeyä½¿ç”¨


" ================================================================================================
" ğŸŒğŸŒğŸŒ No Leader Keymaps ğŸŒğŸŒğŸŒ
" ================================================================================================
" Shift + h å‘å·¦ç§»åŠ¨ tab æ ‡ç­¾é¡µ
nmap <S-h> <action>(PreviousTab)
" Shift + l å‘å³ç§»åŠ¨ tab æ ‡ç­¾é¡µ
nmap <S-l> <action>(NextTab)
" å°† ge æ˜ å°„æˆé¼ æ ‡æ‚¬æµ®åœ¨é”™è¯¯çš„åœ°æ–¹ä¸Šçš„æ—¶å€™æ˜¾ç¤ºé”™è¯¯æç¤º
map ge <Action>(ShowErrorDescription)
" å°† gh æ˜ å°„æˆé¼ æ ‡æ‚¬æµ®åœ¨å˜é‡ä¸Šæ–¹çš„æ—¶å€™æ˜¾ç¤ºæ–‡æ¡£
map gh <Action>(QuickJavaDoc)


" ================================================================================================
" ğŸ“ğŸ“ğŸ“ï¸ Leader Keymaps Catalog ğŸ“ğŸ“ğŸ“
" ================================================================================================
" ========== A ==========
" ========== B ==========
" bp: BreakPoint
" ========== C ==========
" ca: CloseAllTabs-å…³é—­æ‰€æœ‰æ ‡ç­¾é¡µ
" co: CloseOtherTabs-å…³é—­å…¶ä»–æ‰€æœ‰æ ‡ç­¾é¡µ(é™¤å½“å‰tabå¤–)
" ========== D ==========
" db: Debug
" ========== E ==========
" e: NERDTreeToggle
" ========== F ==========
" ff: FindFile-å¿«é€ŸæŸ¥æ‰¾(ctrl + n)
" fl: FindFileLocation-åœ¨é¡¹ç›®è§†å›¾ä¸­å®šä½å¹¶é€‰ä¸­å½“å‰æ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶
" ========== G ==========
" gg: Generate-æ‰“å¼€å³é”®èœå•ä¸­çš„Generate(Alt + Insert)
" gc: Generate Constructor-ç”Ÿæˆæ„é€ å‡½æ•°(ctrl + alt + insert)
" gd: ShowGitFileHistory-æ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„gitå†å²è®°å½•
" ========== H ==========
" ========== I ==========
" ========== J ==========
" ========== K ==========
" ========== L ==========
" ========== M ==========
" ========== N ==========
" ========== O ==========
" ========== P ==========
" ========== Q ==========
" q: quit-å…³é—­å½“å‰tab
" ========== R ==========
" rc: RunClass-è¿è¡Œå½“å‰ç±»(ctrl + shift + f10)
" rr: Rerun-é‡æ–°è¿è¡Œæœ€è¿‘ä¸€æ¬¡è¿è¡Œçš„ç¨‹åºæˆ–æµ‹è¯•(Ctrl + Shift + F10)
" ru: run-è¿è¡Œæœ€è¿‘ä¸€æ¬¡è¿è¡Œçš„ç¨‹åºæˆ–æµ‹è¯•(Ctrl + F10)
" ========== S ==========
" st: Stop-åœæ­¢è¿è¡Œ
" ss: ShowStructure-æ˜¾ç¤ºå½“å‰æ‰“å¼€æ–‡ä»¶çš„æ–‡ä»¶ç»“æ„(Alt + 7)
" sp: ShowParameterInfo-æ˜¾ç¤ºæ–¹æ³•æˆ–å‡½æ•°çš„å‚æ•°ä¿¡æ¯(ctrl + p)
" ========== T ==========
" ========== U ==========
" ========== V ==========
" ========== W ==========
" ========== X ==========
" ========== Y ==========
" ========== Z ==========


" ================================================================================================
" â­ï¸â­ï¸â­ï¸ Leader Keymaps â­ï¸â­ï¸â­ï¸
" ================================================================================================
" å°†<leader>è®¾ç½®ä¸º ç©ºæ ¼é”®
" å¯è‡ªè¡Œæ›´æ”¹ï¼Œåªéœ€æ›´æ”¹åŒå¼•å·å†…çš„å†…å®¹å³å¯
" æ¨è<leader>:  "ç©ºæ ¼"  ";"  "\"  "-"  ","
let mapleader = " "


" ========== B ==========
" æ‰“æ–­ç‚¹/è§£é™¤æ–­ç‚¹
nmap <leader>bp <action>(ToggleLineBreakpoint)
let g:WhichKeyDesc_DeBugOrDelete = "<leader>bp è°ƒè¯•&åˆ é™¤"


" ========== C ==========
let g:WhichKeyDesc_CodeAndClose = "<leader>c Code&å…³é—­"

" å…³é—­æ‰€æœ‰æ ‡ç­¾é¡µ
nmap <leader>ca <action>(CloseAllEditors)
let g:WhichKeyDesc_CodeAndClose_CloseAllEditors = "<leader>ca å…³é—­æ‰€æœ‰æ ‡ç­¾é¡µ"

" å…³é—­å…¶ä»–æ‰€æœ‰æ ‡ç­¾é¡µ
nmap <leader>co :action CloseAllEditorsButActive<CR>
let g:WhichKeyDesc_CodeAndClose_CloseAllEditorsButActive = "<leader>co å…³é—­å…¶ä»–æ ‡ç­¾é¡µ"


" ========== D ==========
let g:WhichKeyDesc_DeBugOrDelete= "<leader>d è°ƒè¯•&åˆ é™¤"

" Debug
nmap <leader>db <action>(Debug)
let g:WhichKeyDesc_DebugOrDelete_DeBug = "<leader>db è°ƒè¯•"


" ========== E ==========
" NERDTree Keymaps(Beneath)


" ========== F ==========
let g:WhichKeyDesc_FindOrFormat = "<leader>f æŸ¥æ‰¾&æ ¼å¼åŒ–"
" ===== Search in project =====
" æ–‡ä»¶æœç´¢, = ctrl + shift + n
nmap <leader>ff <action>(GotoFile)
let g:WhichKeyDesc_FindOrFormat_FindFile = "<leader>ff æŸ¥æ‰¾æ–‡ä»¶"

" Actionæœç´¢, = ctrl + shift + a
nmap <leader>fc <action>(GotoAction)
let g:WhichKeyDesc_FindOrFormat_FindAction = "<leader>fc æŸ¥æ‰¾Action"


" ========== G ==========
let g:WhichKeyDesc_GitOrGenerate = "<leader>g Git&æ„é€ "
" æ‰“å¼€å³é”®èœå•ä¸­çš„Generate
nmap <leader>gg <action>(Generate)
let g:WhichKeyDesc_Generate = "<leader>gg æ‰“å¼€Generate"

"ç”Ÿæˆæ„é€ å™¨
nmap <leader>gc :action GenerateConstructor<CR>
let g:WhichKeyDesc_GitOrGenerate_GenerateConstructor = "<leader>gc ç”Ÿæˆæ„é€ å™¨"

" diff æ˜¾ç¤ºæ–‡ä»¶çš„ç‰ˆæœ¬æ§åˆ¶å†å²
nmap <leader>gd <action>(Vcs.ShowTabbedFileHistory)
let g:WhichKeyDesc_DebugOrDelete_ShowTabbedFileHistory = "<leader>gd git diff"


" ========== Q ==========
" leader + c å…³é—­å½“å‰çš„ editor é¡µ
nmap <leader>q :q<CR>


" ========== R ==========
let g:WhichKeyDesc_RunOrRe = "<leader>r è¿è¡Œ&é‡è¯•"

"è¿è¡Œå½“å‰ç¼–è¾‘å™¨ä¸­çš„æ–‡ä»¶æˆ–ç±»(Shift + F10)
let g:WhichKeyDesc_RunOrRe_RunClass = "<leader>rc è¿è¡Œå½“å‰æ–‡ä»¶"
nmap <leader>rc :action RunClass<CR>

"é‡æ–°è¿è¡Œæœ€è¿‘ä¸€æ¬¡è¿è¡Œçš„ç¨‹åºæˆ–æµ‹è¯•(Ctrl + Shift + F10)
let g:WhichKeyDesc_RunOrRe_ReRun = "<leader>rr é‡æ–°è¿è¡Œ"
nmap <leader>rr <action>(Rerun)

"è¿è¡Œ
let g:WhichKeyDesc_RunOrRe_Run = "<leader>ru è¿è¡Œ"
map <leader>ru <action>(Run)


" ========== S ==========
let g:WhichKeyDesc_Show = "<leader>s æ˜¾ç¤º&ç»ˆæ­¢"

" Stop
nmap <leader>st <action>(Stop)
let g:WhichKeyDesc_Show_Stop = "<leader>st Stop"

" ShowStructure
nmap <leader>ss <action>(ShowStructure)
let g:WhichKeyDesc_Show_ShowStructure = "<leader>ss æ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„æ–‡ä»¶ç»“æ„"

" ShowParameterInfo
nmap <leader>sp <action>(ShowParameterInfo)
let g:WhichKeyDesc_Show_ShowParameterInfo = "<leader>sp æ˜¾ç¤ºæ–¹æ³•/å‡½æ•°çš„å‚æ•°ä¿¡æ¯"


" ========== Z ==========
" æŠ˜å /å±•å¼€ åŠŸèƒ½å¯ä»¥ç”¨åŸç”Ÿvimçš„å¿«æ·é”®
" leader + zo å±•å¼€å½“å‰çš„ editor ä¸­çš„æ‰€æœ‰çš„ä»£ç å—ï¼Œåªæ˜¯åœ¨ java ä»£ç ä¸­ç”Ÿæ•ˆ
" nmap <leader>zo <action>(ExpandAllRegions)
" leader + zc æŠ˜å å½“å‰çš„ editor ä¸­çš„æ‰€æœ‰çš„ä»£ç å—ï¼Œåªæ˜¯åœ¨ java ä»£ç ä¸­ç”Ÿæ•ˆ
" nmap <leader>zc <action>(CollapseAllRegions)



" ================================================================================================
" â›ï¸â›ï¸â›ï¸ Handler â›ï¸â›ï¸â›ï¸
" ================================================================================================
" Handleræè¿°çš„æ˜¯åœ¨ideaä¸vimç›¸åŒçš„å¿«æ·é”®ä¸­ï¼Œéœ€è¦é€‰æ‹©ä¸€ç§ä½œä¸ºæ ‡å‡†
" ä½¿ç”¨ 'sethandler <key> <handler>' æ¥è¦†ç›–ç‰¹å®šçš„å¿«æ·é”®è®¾ç½®
""" VIM
" visual block-mode
sethandler <C-V> a:vim
" é€’å¢æ“ä½œ
sethandler <C-A> a:vim
" å‘ä¸‹æ»šåŠ¨åŠå±
sethandler <C-D> a:vim
" é‡ç»˜å±å¹•å¹¶æ¸…é™¤é«˜äº®
sethandler <C-L> a:vim
" é‡åšæ’¤é”€ï¼Œå‘½ä»¤/æœç´¢æ¨¡å¼ä¸­æ’å…¥å¯„å­˜å™¨å†…å®¹
sethandler <C-R> a:vim
" åœ¨è·³è½¬åˆ—è¡¨ä¸­å‘å‰è·³è½¬
sethandler <C-O> a:vim
" é…ç½®wsvqæ‰§è¡Œçª—å£æ“ä½œ
sethandler <C-W> a:vim

""" IDEA
" è·³è½¬åˆ°å˜é‡ã€æ–¹æ³•æˆ–ç±»çš„å®šä¹‰å¤„
sethandler <C-B> a:ide
" åœ¨å½“å‰æ–‡ä»¶ä¸­æŸ¥æ‰¾
sethandler <C-F> a:ide
" å¯å°† Ctrl+J/K æ˜ å°„ä¸ºä¸Š/ä¸‹ç®­å¤´ï¼ˆéœ€è¦æå‰åœ¨ideaä¸­è®¾ç½®ï¼‰
sethandler <C-J> a:ide
sethandler <C-K> a:ide


" ================================================================================================
" ğŸŒ²ğŸŒ²ğŸŒ² NERDTree ğŸŒ²ğŸŒ²ğŸŒ²
" ================================================================================================
" IDEA ä¸­çš„ Project å·¥å…·çª—å£ä¸ºåŸç”Ÿæ–‡ä»¶æ ‘ï¼ŒåŠŸèƒ½æ¯”NERDTreeæ›´å¼ºå¤§ï¼Œä½†å¾ˆå¤šNERDTreeçš„å¿«æ·é”®ä¸æ”¯æŒ
" nmap <leader>e <action>(ActivateProjectToolWindow)
" leader + e æ‰“å¼€å·¦ä¾§çš„ Project æ ç›®ï¼Œä¹Ÿèƒ½ä½¿ç”¨ IDEA ä¸­çš„ Alt + 1
" Attention: è‹¥å·²ç»åœ¨ NERDTree ä¸­ï¼Œå†æ¬¡æŒ‰ä¸‹ <leader>e ä¸ä¼šå…³é—­ï¼Œè€Œæ˜¯æœç´¢ã€‚æ­£ç¡®åšæ³•ï¼šç”¨escé€€åˆ°tabé¡µä¸­å†æŒ‰ <leader>eï¼Œæ‰èƒ½å…³é—­
nmap <leader>e :NERDTreeToggle<CR>
" å°†ç„¦ç‚¹æ”¾åˆ° NERDTree çª—å£
nmap <leader>nn :NERDTreeFocus<CR>
" åœ¨NERDTreeä¸­å®šä½åˆ°å½“å‰æ–‡ä»¶
" nmap <leader>f :NERDTreeFind<CR>

"===== NERDTree native shortcuts =====
" - `o`: æ‰“å¼€æ–‡ä»¶/ç›®å½•
" - `i`: åœ¨åˆ†çª—å£ä¸­æ‰“å¼€
" - `go`: æ‰“å¼€æ–‡ä»¶/ç›®å½•ï¼Œä½†å…‰æ ‡ä»åœ¨NERDTreeä¸­
" - `m`: æ˜¾ç¤ºæ“ä½œèœå•
" - `k/j`: ä¸Šä¸‹è·³è½¬æ–‡ä»¶/ç›®å½•
" - `<C-J>`/`<C-K>`: åœ¨åŒçº§åˆ«ç›®å½•ä¸­ä¸Šä¸‹è·³è½¬
" - `x`: æŠ˜å å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹
" - `q`: Close the nerdtree window
" - `d`: delete file or directory
" - `n`: create file
" - `N`: create directory
